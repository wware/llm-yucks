---
services:
  app:
    build: .
#    depends_on:
#      ollama:
#        condition: service_healthy
    volumes:
      - .:/work:rw
    environment:
      GROQ_API_KEY: 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
    networks:
      - ollama-network

#  ollama:
#    image: ollama/ollama:latest
#    # ports:
#    #   - 11434:11434
#    volumes:
#      - $HOME/.ollama:/root/.ollama:rw
#    healthcheck:
#      test: bash -c "exec 6<> /dev/tcp/localhost/11434"
#      interval: 10s
#      timeout: 5s
#      retries: 5
#    networks:
#      - ollama-network

networks:
  ollama-network:
    driver: bridge
